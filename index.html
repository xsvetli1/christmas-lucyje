<!DOCTYPE html>
<html lang="sk">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>SnowboardovÃ¡ hra</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <img
      src="lucka_on_sb_screaming.png"
      alt="Lucka on snowboard"
      class="sneak-peek-image"
    />
    <div id="menuScreen" class="menu-screen">
      <div class="menu-content">
        <p class="menu-text">
          Pre zÃ­skanie odmeny musÃ­Å¡ najprv prejsÅ¥ skÃºÅ¡kou â¤ï¸
        </p>
        <button id="startGameButton" class="start-game-button">
          Idem na to!
        </button>
      </div>
    </div>
    <div id="rotationWarningScreen" class="menu-screen hidden">
      <div class="menu-content">
        <p class="menu-warning">
          Najprv si povoÄ¾ otÃ¡Äanie obrazovky a pridaj zvuk!
        </p>
        <button id="rotationConfirmButton" class="start-game-button">
          MÃ¡m!! ğŸ¥°
        </button>
      </div>
    </div>
    <div class="game-container hidden">
      <div class="game-info">
        <div class="score">PrekÃ¡Å¾ky: <span id="obstacleCount">0</span>/25</div>
      </div>
      <canvas id="gameCanvas"></canvas>
      <div id="gameOver" class="game-over hidden">
        <h2>DokonÄili ste hru, gratulujeme! ğŸ‰ğŸ’•</h2>
        <button onclick="restartGame()">HraÅ¥ znova â¤ï¸</button>
      </div>
      <div id="rewardScreen" class="reward-screen hidden">
        <h2>V poriadku, dokÃ¡zala si to a preÅ¡la si skÃºÅ¡ku! â›„ğŸ’–ğŸ¥°</h2>
        <button id="rewardButton">VyzdvihnÃºÅ¥ si odmenu ğŸğŸ„ğŸ’</button>
      </div>
      <div id="rotationInstructionScreen" class="reward-screen hidden">
        <h2>Teraz si otoÄ telefÃ³n! ğŸ’•</h2>
        <button id="rotationInstructionButton">MÃ¡m!! ğŸ˜˜</button>
      </div>
      <video id="rewardVideo" class="reward-video hidden" controls muted>
        <source src="reward.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>
    <script src="game.js"></script>
    <audio id="bgm" autoplay loop>
      <source
        src="https://pixabay.com/music/download/id-440431.mp3"
        type="audio/mpeg"
      />
    </audio>
    <script>
      // Browsers often block autoplay with sound
      // This ensures it starts on the user's first click or tap
      document.addEventListener("click", function () {
        const a = document.getElementById("bgm");
        if (a.paused) a.play();
      });
    </script>
  </body>
</html>
